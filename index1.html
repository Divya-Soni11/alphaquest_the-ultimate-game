<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain Guessing Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #020824 0%, #00113a 50%, #0023FF 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background: rgba(2, 8, 36, 0.7);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid rgba(0, 35, 255, 0.3);
            position: relative;
            animation: containerSlide 0.8s ease-out;
        }

        @keyframes containerSlide {
            from { opacity: 0; transform: translateY(50px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .shape {
            position: absolute;
            border-radius: 50%;
            background: rgba(0, 35, 255, 0.2);
            animation: float 15s infinite linear;
            box-shadow: 0 0 30px rgba(0, 35, 255, 0.3);
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            top: 60%;
            left: 80%;
            animation-delay: -5s;
        }

        .shape:nth-child(3) {
            width: 60px;
            height: 60px;
            top: 80%;
            left: 20%;
            animation-delay: -10s;
        }

        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            33% {
                transform: translate(30px, -50px) rotate(120deg);
            }
            66% {
                transform: translate(-20px, 20px) rotate(240deg);
            }
            100% {
                transform: translate(0, 0) rotate(360deg);
            }
        }

        .page {
            padding: 30px;
            display: none;
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .active {
            display: block;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
/* Club Logo Styles */
        /* Club Logo Styles */
.club-logo {
    text-align: center;
    margin-bottom: 20px;
    animation: fadeIn 0.8s ease-out;
}



        .logo {
            font-size: 3.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #4d7fff, #0023FF, #0018a8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: logoGlow 3s infinite alternate;
        }

        @keyframes logoGlow {
            0% { filter: drop-shadow(0 0 5px rgba(0, 35, 255, 0.5)); }
            50% { filter: drop-shadow(0 0 15px rgba(0, 35, 255, 0.7)); }
            100% { filter: drop-shadow(0 0 5px rgba(0, 35, 255, 0.5)); }
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin-bottom: 5px;
            letter-spacing: 1px;
            font-weight: 500;
        }

        .sticker {
            font-size: 0.85rem;
            color: #4d7fff;
            font-weight: 700;
            background: rgba(77, 127, 255, 0.2);
            padding: 6px 18px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            border: 1px solid rgba(77, 127, 255, 0.4);
            animation: stickerPulse 2s infinite;
        }

        @keyframes stickerPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #0023FF, #0018a8);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 35, 255, 0.4);
            z-index: 1;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(0, 35, 255, 0.6);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
            z-index: -1;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #4d7fff, #0023FF);
            box-shadow: 0 10px 20px rgba(77, 127, 255, 0.4);
        }

        .btn-individual {
            background: linear-gradient(135deg, #0018a8, #020824);
            box-shadow: 0 10px 20px rgba(2, 8, 36, 0.4);
        }

        .timer {
            text-align: center;
            font-size: 3rem;
            font-weight: 800;
            color: #4d7fff;
            margin: 20px 0;
            text-shadow: 0 0 20px rgba(77, 127, 255, 0.7);
            animation: timerPulse 1s infinite alternate;
            font-family: 'Courier New', monospace;
        }

        @keyframes timerPulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.05); }
        }

        .score {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.9);
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Domain Tape Styles - Single Column */
        .domain-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .domain-container::-webkit-scrollbar {
            width: 8px;
        }

        .domain-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .domain-container::-webkit-scrollbar-thumb {
            background: #4d7fff;
            border-radius: 10px;
        }

        .domain-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .domain-item.correct {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid rgba(76, 175, 80, 0.5);
        }

        .domain-item.incorrect {
            background: rgba(239, 83, 80, 0.2);
            border: 2px solid rgba(239, 83, 80, 0.5);
        }

        .domain-tape {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                #ff6b6b,
                #ff6b6b 10px,
                #ff8e8e 10px,
                #ff8e8e 20px
            );
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            transition: transform 0.5s ease;
            cursor: pointer;
            z-index: 2;
            padding: 0 20px;
        }

        .domain-tape.revealed {
            transform: translateY(-100%);
        }

        .points {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: #ffd93d;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
            z-index: 3;
        }

        .domain-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
            margin-bottom: 10px;
            display: none; /* Hidden by default */
        }

        .domain-name.revealed {
            display: block; /* Show when revealed */
        }

        .guess-input-container {
            display: none; /* Hidden by default */
            gap: 10px;
            margin-top: 15px;
        }

        .guess-input-container.active {
            display: flex; /* Show when active */
        }

        .guess-input {
            flex: 1;
            padding: 12px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .guess-input:focus {
            border-color: #4d7fff;
            outline: none;
            background: rgba(255, 255, 255, 0.15);
        }

        .guess-input:disabled {
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
        }

        .guess-btn {
            padding: 12px 20px;
            background: #4d7fff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            min-width: 120px;
        }

        .guess-btn:hover {
            background: #0023FF;
            transform: translateY(-2px);
        }

        .guess-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .guess-btn.correct {
            background: #4CAF50;
        }

        .guess-btn.incorrect {
            background: #f44336;
        }

        .game-status {
            text-align: center;
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            font-weight: 700;
            animation: popIn 0.6s ease-out;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            70% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }

        .success {
            background: rgba(0, 35, 255, 0.3);
            color: #4d7fff;
            border: 1px solid rgba(0, 35, 255, 0.5);
        }

        .error {
            background: rgba(239, 83, 80, 0.3);
            color: #ffcdd2;
            border: 1px solid rgba(239, 83, 80, 0.5);
        }

        .team-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 18px;
            margin-bottom: 15px;
            border-left: 5px solid #0023FF;
            transition: all 0.4s;
            animation: slideIn 0.6s ease-out;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .team-card:hover {
            transform: translateX(10px) translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .team-name {
            font-weight: 700;
            color: white;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .team-members {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .leaderboard {
            list-style-type: none;
        }

        .leaderboard li {
            padding: 18px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            transition: all 0.4s;
            animation: slideIn 0.6s ease-out;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .leaderboard li:hover {
            transform: translateX(10px) translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .leaderboard li:nth-child(1) {
            background: rgba(255, 215, 0, 0.3);
            border: 1px solid rgba(255, 215, 0, 0.5);
        }

        .leaderboard li:nth-child(2) {
            background: rgba(192, 192, 192, 0.3);
            border: 1px solid rgba(192, 192, 192, 0.5);
        }

        .leaderboard li:nth-child(3) {
            background: rgba(205, 127, 50, 0.3);
            border: 1px solid rgba(205, 127, 50, 0.5);
        }

        .icon {
            text-align: center;
            font-size: 4.5rem;
            margin-bottom: 20px;
            color: #4d7fff;
            animation: bounce 3s infinite;
            filter: drop-shadow(0 0 10px rgba(77, 127, 255, 0.5));
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .made-with-love {
            color: #4d7fff;
            font-weight: 700;
            animation: heartBeat 2s infinite;
        }

        @keyframes heartBeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.1); }
            10% { transform: scale(1); }
            15% { transform: scale(1.1); }
            20% { transform: scale(1); }
            100% { transform: scale(1); }
        }

        .empty-state {
            text-align: center;
            padding: 40px 30px;
            color: rgba(255, 255, 255, 0.8);
            animation: fadeIn 0.8s ease-out;
        }

        .empty-state i {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: #4d7fff;
            animation: bounce 3s infinite;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 10px 20px rgba(0, 35, 255, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 15px 30px rgba(0, 35, 255, 0.6); }
            100% { transform: scale(1); box-shadow: 0 10px 20px rgba(0, 35, 255, 0.4); }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #4d7fff;
            animation: confettiFall 5s linear forwards;
        }

        @keyframes confettiFall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        .toggle-auth {
            text-align: center;
            margin-top: 20px;
            color: rgba(255, 255, 255, 0.7);
        }

        .toggle-auth a {
            color: #4d7fff;
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
        }

        .toggle-auth a:hover {
            text-decoration: underline;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
            animation: formSlide 0.8s ease-out;
        }

        @keyframes formSlide {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
        }

        input, select {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            font-size: 1rem;
            transition: all 0.4s;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        input:focus, select:focus {
            border-color: #0023FF;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 35, 255, 0.3);
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-3px);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="floating-shapes">
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
        </div>

        <!-- Sign Up Page -->
        <div class="page active" id="signup-page">
            <div class="header">
                <div class="club-logo">
                    <img src="AlphaOneLogo.png" alt="Club Logo" class="logo-image">
                </div>
                <div class="logo">AlphaQuest: The Ultimate Challenge</div>
                <div class="subtitle">CREATE YOUR ACCOUNT</div>
                <div class="sticker">ALPHA ONE</div>
            </div>
            
            <div class="icon">
                <i class="fas fa-user-plus"></i>
            </div>
            
            <div class="form-group">
                <label for="signup-name">FULL NAME</label>
                <input type="text" id="signup-name" placeholder="Enter your full name">
            </div>
            
            <div class="form-group">
                <label for="signup-email">EMAIL</label>
                <input type="email" id="signup-email" placeholder="Enter your email">
            </div>
            
            <div class="form-group">
                <label for="signup-password">PASSWORD</label>
                <input type="password" id="signup-password" placeholder="Create a password">
            </div>
            
            <button class="btn" id="signup-btn">CREATE ACCOUNT</button>
            
            <div class="toggle-auth">
                Already have an account? <a id="go-to-login">Sign In</a>
            </div>
        </div>

        <!-- Login Page -->
        <div class="page" id="login-page">
            <div class="header">
                <div class="logo">DOMAIN GUESSING</div>
                <div class="subtitle">WELCOME BACK</div>
                <div class="sticker">ALPHA ONE</div>
            </div>
            
            <div class="icon">
                <i class="fas fa-user-check"></i>
            </div>
            
            <div class="form-group">
                <label for="login-email">EMAIL</label>
                <input type="email" id="login-email" placeholder="Enter your email">
            </div>
            
            <div class="form-group">
                <label for="login-password">PASSWORD</label>
                <input type="password" id="login-password" placeholder="Enter your password">
            </div>
            
            <button class="btn" id="login-btn">SIGN IN</button>
            
            <div class="toggle-auth">
                Don't have an account? <a id="go-to-signup">Sign Up</a>
            </div>
        </div>

        <!-- Game Mode Selection Page -->
        <div class="page" id="mode-page">
            <div class="header">
                <div class="logo">DOMAIN GUESSING</div>
                <div class="subtitle">CHOOSE YOUR PLAY MODE</div>
                <div class="sticker">ALPHA ONE</div>
            </div>
            
            <div class="icon">
                <i class="fas fa-gamepad"></i>
            </div>
            
            <button class="btn" id="create-team-btn">CREATE TEAM</button>
            <button class="btn btn-secondary" id="join-team-btn">JOIN EXISTING TEAM</button>
            <button class="btn btn-individual" id="individual-btn">PLAY INDIVIDUALLY</button>
        </div>

        <!-- Team Selection Page -->
        <div class="page" id="team-page">
            <div class="header">
                <div class="logo">DOMAIN GUESSING</div>
                <div class="subtitle">ASSEMBLE YOUR SQUAD</div>
                <div class="sticker">ALPHA ONE</div>
            </div>
            
            <div class="icon">
                <i class="fas fa-users"></i>
            </div>
            
            <div class="form-group">
                <label for="team-name">TEAM NAME</label>
                <input type="text" id="team-name" placeholder="Enter your team name">
            </div>
            
            <div class="form-group">
                <label for="team-members">TEAM MEMBERS</label>
                <input type="text" id="team-members" placeholder="Enter team member names">
            </div>
            
            <button class="btn" id="create-team-final-btn">CREATE TEAM</button>
            
            <div id="available-teams" style="margin-top: 20px;">
                <h3 style="margin-bottom: 15px; color: rgba(255, 255, 255, 0.9);">AVAILABLE TEAMS</h3>
                <div id="teams-container">
                    <div class="empty-state">
                        <i class="fas fa-users"></i>
                        <p>No teams created yet. Be the first to create one!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Page -->
        <div class="page" id="game-page">
            <div class="header">
                <div class="logo">DOMAIN GUESSING</div>
                <div class="subtitle">REVEAL THE DOMAINS BEHIND THE TAPES</div>
                <div class="sticker">ALPHA ONE</div>
            </div>
            
            <div class="timer" id="timer">01:00</div>
            <div class="score">SCORE: <span id="score">0</span>/100</div>
            
            <div id="game-instructions">
                <p style="text-align: center; margin-bottom: 20px; color: rgba(255, 255, 255, 0.9);">
                    Click on the red tapes to reveal the input fields. You get only ONE guess per domain!
                    <br><strong>Guess any domain in any order - you'll get points for correct guesses!</strong>
                </p>
                <div style="text-align: center;">
                    <button class="btn pulse" id="start-game-btn">START GAME</button>
                </div>
            </div>
            
            <div id="game-area" style="display: none;">
                <div class="domain-container" id="domain-container">
                    <!-- Domain items will be dynamically generated here -->
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn" id="submit-answers-btn">SUBMIT ANSWERS</button>
                </div>
            </div>
            
            <div id="game-result" style="display: none;">
                <div class="game-status" id="result-message"></div>
                <div style="text-align: center;">
                    <button class="btn" id="view-leaderboard-btn">VIEW LEADERBOARD</button>
                    <button class="btn btn-secondary" id="play-again-btn">PLAY AGAIN</button>
                </div>
            </div>
        </div>

        <!-- Leaderboard Page -->
        <div class="page" id="leaderboard-page">
            <div class="header">
                <div class="logo">DOMAIN GUESSING</div>
                <div class="subtitle">LEADERBOARD</div>
                <div class="sticker">ALPHA ONE</div>
            </div>
            
            <div class="icon">
                <i class="fas fa-trophy"></i>
            </div>
            
            <ul class="leaderboard" id="leaderboard">
                <div class="empty-state">
                    <i class="fas fa-trophy"></i>
                    <p>No one has completed the challenge yet!</p>
                </div>
            </ul>
            
            <div style="text-align: center;">
                <button class="btn" id="back-to-game-btn">BACK TO GAME</button>
            </div>
        </div>

        <div class="footer">
            <span class="made-with-love">Made with ❤️ by AlphaOne</span>
        </div>
    </div>

    <script>
        // DOM Elements
        const signupPage = document.getElementById('signup-page');
        const loginPage = document.getElementById('login-page');
        const modePage = document.getElementById('mode-page');
        const teamPage = document.getElementById('team-page');
        const gamePage = document.getElementById('game-page');
        const leaderboardPage = document.getElementById('leaderboard-page');
        
        const signupBtn = document.getElementById('signup-btn');
        const loginBtn = document.getElementById('login-btn');
        const goToLogin = document.getElementById('go-to-login');
        const goToSignup = document.getElementById('go-to-signup');
        const createTeamBtn = document.getElementById('create-team-btn');
        const joinTeamBtn = document.getElementById('join-team-btn');
        const individualBtn = document.getElementById('individual-btn');
        const createTeamFinalBtn = document.getElementById('create-team-final-btn');
        const startGameBtn = document.getElementById('start-game-btn');
        const submitAnswersBtn = document.getElementById('submit-answers-btn');
        const viewLeaderboardBtn = document.getElementById('view-leaderboard-btn');
        const playAgainBtn = document.getElementById('play-again-btn');
        const backToGameBtn = document.getElementById('back-to-game-btn');
        
        const gameInstructions = document.getElementById('game-instructions');
        const gameArea = document.getElementById('game-area');
        const gameResult = document.getElementById('game-result');
        const timerDisplay = document.getElementById('timer');
        const scoreDisplay = document.getElementById('score');
        const resultMessage = document.getElementById('result-message');
        const teamsContainer = document.getElementById('teams-container');
        const leaderboard = document.getElementById('leaderboard');
        const domainContainer = document.getElementById('domain-container');
        
        // Game State
        let timeLeft = 60;
        let timerInterval;
        let score = 0;
        let gameActive = false;
        let currentUser = null;
        let currentTeam = null;
        let teams = [];
        let users = [];
        let individualScores = [];
        let domains = [];
        let revealedDomains = 0;
        let guessedDomains = []; // Track which domains have been guessed correctly
        
        // Domain data - in FRONTEND for this game
        const domainData = [
            { name: "Artificial Intelligence (AI) & Machine Learning (ML)", points: 10 },
            { name: "Cloud Computing", points: 10 },
            { name: "Cybersecurity", points: 10 },
            { name: "Mobile App Development", points: 10 },
            { name: "Web Development", points: 10 },
            { name: "Data Science & Analytics", points: 10 },
            { name: "Software Development & Systems Engineering", points: 10 },
            { name: "DevOps & Automation", points: 10 },
            { name: "Game Development", points: 10 },
            { name: "Blockchain & Web3", points: 10 }
        ];
        
        // Event Listeners
        signupBtn.addEventListener('click', signup);
        loginBtn.addEventListener('click', login);
        goToLogin.addEventListener('click', () => showPage(loginPage));
        goToSignup.addEventListener('click', () => showPage(signupPage));
        createTeamBtn.addEventListener('click', () => showPage(teamPage));
        joinTeamBtn.addEventListener('click', joinTeam);
        individualBtn.addEventListener('click', playIndividually);
        createTeamFinalBtn.addEventListener('click', createTeam);
        startGameBtn.addEventListener('click', startGame);
        submitAnswersBtn.addEventListener('click', submitAnswers);
        viewLeaderboardBtn.addEventListener('click', () => {
            updateLeaderboard();
            showPage(leaderboardPage);
        });
        playAgainBtn.addEventListener('click', playAgain);
        backToGameBtn.addEventListener('click', () => showPage(modePage));
        
        // Functions
        function showPage(page) {
            // Hide all pages
            signupPage.classList.remove('active');
            loginPage.classList.remove('active');
            modePage.classList.remove('active');
            teamPage.classList.remove('active');
            gamePage.classList.remove('active');
            leaderboardPage.classList.remove('active');
            
            // Show the requested page
            page.classList.add('active');
        }
        
        function signup() {
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            
            if (name && email && password) {
                // Check if user already exists
                if (users.find(user => user.email === email)) {
                    alert('User with this email already exists. Please sign in instead.');
                    return;
                }
                
                // Create new user
                const newUser = {
                    name,
                    email,
                    password,
                    id: Date.now()
                };
                
                users.push(newUser);
                currentUser = newUser;
                
                showPage(modePage);
            } else {
                alert('Please fill in all fields.');
            }
        }
        
        function login() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            if (email && password) {
                // Find user
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    currentUser = user;
                    showPage(modePage);
                } else {
                    alert('Invalid email or password. Please try again.');
                }
            } else {
                alert('Please enter both email and password.');
            }
        }
        
        function createTeam() {
            const teamName = document.getElementById('team-name').value;
            const teamMembers = document.getElementById('team-members').value;
            
            if (teamName && teamMembers) {
                // Create new team
                const newTeam = {
                    name: teamName,
                    members: teamMembers.split(',').map(m => m.trim()),
                    score: 0,
                    id: Date.now(),
                    played: false
                };
                
                teams.push(newTeam);
                currentTeam = newTeam;
                
                // Update teams display
                updateTeamsDisplay();
                
                showPage(gamePage);
            } else {
                alert('Please enter both team name and members.');
            }
        }
        
        function joinTeam() {
            if (teams.length === 0) {
                alert('No teams available to join. Create a new team instead.');
                return;
            }
            
            // Show team selection modal (simplified for demo)
            let teamList = "Available Teams:\n";
            teams.forEach((team, index) => {
                teamList += `${index + 1}. ${team.name} (${team.played ? 'Played' : 'Not Played'})\n`;
            });
            
            const teamChoice = prompt(`${teamList}\nEnter the number of the team you want to join:`);
            const teamIndex = parseInt(teamChoice) - 1;
            
            if (teamIndex >= 0 && teamIndex < teams.length) {
                const selectedTeam = teams[teamIndex];
                
                if (selectedTeam.played) {
                    alert('This team has already played. Please select another team.');
                    return;
                }
                
                currentTeam = selectedTeam;
                showPage(gamePage);
            } else {
                alert('Invalid team selection.');
            }
        }
        
        function playIndividually() {
            currentTeam = null;
            showPage(gamePage);
        }
        
        function playAgain() {
            if (currentTeam) {
                // Check if this specific team has already played
                const teamInList = teams.find(t => t.id === currentTeam.id);
                if (teamInList && teamInList.played) {
                    alert('This team has already played. Please create a new team or join another team to play again.');
                    showPage(modePage);
                    return;
                }
            }
            
            // Reset game for play again
            resetGame();
            showPage(gamePage);
        }
        
        function updateTeamsDisplay() {
            if (teams.length === 0) {
                teamsContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-users"></i>
                        <p>No teams created yet. Be the first to create one!</p>
                    </div>
                `;
                return;
            }
            
            teamsContainer.innerHTML = '';
            teams.forEach(team => {
                const teamCard = document.createElement('div');
                teamCard.className = 'team-card';
                teamCard.innerHTML = `
                    <div class="team-name">${team.name} ${team.played ? '(Played)' : ''}</div>
                    <div class="team-members">${team.members.join(', ')}</div>
                `;
                teamsContainer.appendChild(teamCard);
            });
        }
        
        function updateLeaderboard() {
            // Combine team scores and individual scores
            const allScores = [
                ...teams.map(team => ({ name: team.name, score: team.score, type: 'team' })),
                ...individualScores.map(score => ({ name: score.userName, score: score.score, type: 'individual' }))
            ];
            
            // Sort by score (descending)
            const sortedScores = allScores.sort((a, b) => b.score - a.score);
            
            if (sortedScores.length === 0) {
                leaderboard.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-trophy"></i>
                        <p>No one has completed the challenge yet!</p>
                    </div>
                `;
                return;
            }
            
            leaderboard.innerHTML = '';
            sortedScores.forEach((entry, index) => {
                const listItem = document.createElement('li');
                const typeIcon = entry.type === 'team' ? '<i class="fas fa-users"></i> ' : '<i class="fas fa-user"></i> ';
                listItem.innerHTML = `
                    <span>${typeIcon}${entry.name}</span>
                    <span>${entry.score} POINTS</span>
                `;
                leaderboard.appendChild(listItem);
            });
        }
        
        function startGame() {
            gameInstructions.style.display = 'none';
            gameArea.style.display = 'block';
            gameActive = true;
            
            // Initialize domains
            initializeDomains();
            
            // Start the timer
            startTimer();
        }
        
        function initializeDomains() {
            domainContainer.innerHTML = '';
            domains = [...domainData];
            revealedDomains = 0;
            score = 0;
            guessedDomains = []; // Reset guessed domains
            scoreDisplay.textContent = score;
            
            // Shuffle domains for variety
            domains = shuffleArray(domains);
            
            // Create domain items
            domains.forEach((domain, index) => {
                const domainItem = document.createElement('div');
                domainItem.className = 'domain-item';
                domainItem.innerHTML = `
                    <div class="points">${domain.points} pts</div>
                    <div class="domain-tape" data-index="${index}">
                        <span>Click to Guess</span>
                    </div>
                    <div class="domain-name" data-index="${index}">${domain.name}</div>
                    <div class="guess-input-container" data-index="${index}">
                        <input type="text" class="guess-input" placeholder="Enter your guess..." data-index="${index}">
                        <button class="guess-btn" data-index="${index}">Guess</button>
                    </div>
                `;
                domainContainer.appendChild(domainItem);
                
                // Add event listeners for tape and guess button
                const tape = domainItem.querySelector('.domain-tape');
                const guessBtn = domainItem.querySelector('.guess-btn');
                const guessInput = domainItem.querySelector('.guess-input');
                const inputContainer = domainItem.querySelector('.guess-input-container');
                const domainName = domainItem.querySelector('.domain-name');
                
                // Tape click to reveal input
                tape.addEventListener('click', function() {
                    if (!gameActive) return;
                    
                    // Hide tape and show input
                    tape.style.display = 'none';
                    inputContainer.classList.add('active');
                    guessInput.focus();
                });
                
                // Guess button click - ONE GUESS ONLY
                guessBtn.addEventListener('click', function() {
                    makeGuess(index);
                });
                
                // Enter key to submit guess
                guessInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') makeGuess(index);
                });
            });
        }
        
        function makeGuess(index) {
            if (!gameActive) return;
            
            const domainItem = document.querySelectorAll('.domain-item')[index];
            const guessInput = domainItem.querySelector('.guess-input');
            const domainName = domainItem.querySelector('.domain-name');
            const guessBtn = domainItem.querySelector('.guess-btn');
            const userGuess = guessInput.value.trim().toLowerCase();
            
            if (!userGuess) {
                alert('Please enter a guess!');
                return;
            }
            
            // DISABLE INPUT AFTER FIRST GUESS (ONE GUESS PER DOMAIN)
            guessInput.disabled = true;
            guessBtn.disabled = true;
            
            // Check if the guess matches ANY domain (not just the one at this position)
            let isCorrect = false;
            let matchedDomain = null;
            
            for (let domain of domainData) {
                const correctDomainName = domain.name.toLowerCase();
                if ((correctDomainName.includes(userGuess) || checkCloseMatch(userGuess, correctDomainName)) && 
                    !guessedDomains.includes(domain.name)) {
                    isCorrect = true;
                    matchedDomain = domain;
                    break;
                }
            }
            
            if (isCorrect && matchedDomain) {
                // Add points for correct guess
                score += matchedDomain.points;
                scoreDisplay.textContent = score;
                revealedDomains++;
                
                // Mark this domain as guessed
                guessedDomains.push(matchedDomain.name);
                
                // Find and reveal the actual domain that was guessed
                const actualDomainIndex = domains.findIndex(d => d.name === matchedDomain.name);
                if (actualDomainIndex !== -1) {
                    const actualDomainItem = document.querySelectorAll('.domain-item')[actualDomainIndex];
                    const actualDomainName = actualDomainItem.querySelector('.domain-name');
                    const actualGuessBtn = actualDomainItem.querySelector('.guess-btn');
                    const actualTape = actualDomainItem.querySelector('.domain-tape');
                    
                    // Reveal the actual domain
                    actualTape.style.display = 'none';
                    actualDomainName.classList.add('revealed');
                    actualGuessBtn.textContent = 'Correct!';
                    actualGuessBtn.classList.add('correct');
                    actualDomainItem.classList.add('correct');
                }
                
                // Show feedback for current input
                guessBtn.textContent = 'Correct!';
                guessBtn.classList.add('correct');
                domainItem.classList.add('correct');
                
                // Check if all domains are revealed
                if (revealedDomains === domains.length) {
                    endGame();
                }
            } else {
                // Incorrect guess - show "Wrong Answer"
                guessBtn.textContent = 'Wrong Answer';
                guessBtn.classList.add('incorrect');
                domainItem.classList.add('incorrect');
                
                // Check if all domains are revealed
                revealedDomains++;
                if (revealedDomains === domains.length) {
                    endGame();
                }
            }
        }
        
        function checkCloseMatch(guess, domainName) {
            // Simple fuzzy matching for common variations
            const mappings = {
                'ai': 'artificial intelligence',
                'ml': 'machine learning',
                'web': 'web development',
                'app': 'app development',
                'mobile': 'mobile app',
                'data': 'data science',
                'software': 'software development',
                'cloud': 'cloud computing',
                'cyber': 'cybersecurity',
                'blockchain': 'blockchain',
                'web3': 'web3',
                'devops': 'devops',
                'automation': 'automation',
                'game': 'game development'
            };
            
            return Object.keys(mappings).some(key => 
                guess.includes(key) && domainName.includes(mappings[key])
            );
        }
        
        function startTimer() {
            timeLeft = 60;
            timerDisplay.textContent = `01:00`;
            timerDisplay.style.color = '#4d7fff';
            
            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Change color when time is running out
                if (timeLeft <= 10) {
                    timerDisplay.style.color = '#f44336';
                    timerDisplay.style.animation = 'timerPulse 0.5s infinite alternate';
                }
                
                // Time's up
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }
        
        function endGame() {
            clearInterval(timerInterval);
            gameActive = false;
            
            // Update scores
            if (currentTeam) {
                currentTeam.score = score;
                currentTeam.played = true;
            } else {
                individualScores.push({
                    userName: currentUser.name,
                    score: score
                });
            }
            
            // Reveal all domains that weren't guessed
            document.querySelectorAll('.domain-tape').forEach(tape => {
                tape.style.display = 'none';
            });
            document.querySelectorAll('.guess-input-container').forEach(container => {
                container.classList.add('active');
            });
            document.querySelectorAll('.domain-name').forEach(name => {
                name.classList.add('revealed');
            });
            
            // Show result
            gameArea.style.display = 'none';
            gameResult.style.display = 'block';
            
            if (score >= 70) {
                resultMessage.textContent = `EXCELLENT! YOU SCORED ${score} POINTS AND REVEALED ${revealedDomains}/10 DOMAINS.`;
                resultMessage.className = 'game-status success';
                createConfetti();
            } else if (score >= 40) {
                resultMessage.textContent = `GOOD EFFORT! YOU SCORED ${score} POINTS AND REVEALED ${revealedDomains}/10 DOMAINS.`;
                resultMessage.className = 'game-status';
            } else {
                resultMessage.textContent = `YOU SCORED ${score} POINTS AND REVEALED ${revealedDomains}/10 DOMAINS. KEEP PRACTICING!`;
                resultMessage.className = 'game-status error';
            }
        }
        
        function submitAnswers() {
            endGame();
        }
        
        function resetGame() {
            // Reset game state
            timeLeft = 60;
            score = 0;
            gameActive = false;
            revealedDomains = 0;
            guessedDomains = [];
            
            // Reset UI
            timerDisplay.textContent = '01:00';
            timerDisplay.style.color = '#4d7fff';
            scoreDisplay.textContent = '0';
            
            // Show instructions again
            gameResult.style.display = 'none';
            gameInstructions.style.display = 'block';
        }
        
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function createConfetti() {
            const colors = ['#0023FF', '#4d7fff', '#0018a8', '#020824'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = Math.random() * 10 + 5 + 'px';
                confetti.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }
        
        // Initialize teams display
        updateTeamsDisplay();
    </script>
</body>
</html>